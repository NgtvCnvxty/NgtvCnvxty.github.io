<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn - SD Capital Systems</title>
    <link rel="stylesheet" href="styles.css?v=20250929-FINAL">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-container">
            <a href="index.html" class="logo">SD Capital Systems</a>
            <ul class="nav-links">
                <li><a href="solutions.html">Solutions</a></li>
                <li class="dropdown">
                    <button type="button" role="button" aria-haspopup="true" aria-expanded="false" aria-controls="markets-dropdown" id="markets-toggle">Markets</button>
                    <div class="dropdown-content" id="markets-dropdown">
                        <a href="gov-canada-nominal.html">Government of Canada Nominal Bonds</a>
                        <a href="gov-canada-rrb.html">Government of Canada Real Return Bonds</a>
                        <a href="convertible-bonds.html">Convertible Bonds</a>
                    </div>
                </li>
                <li><a href="learn.html" class="active">Learn</a></li>
                <li><a href="company.html">Company</a></li>
                <li><a href="letters.html">Letters</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="container">
        <main class="content">
            <p>[TBD]</p>
        </main>
        
        <footer>
            <p>&copy; 2025 SD Capital Systems Inc. All rights reserved.</p>
        </footer>
    </div>
    <script>
        // Enhanced dropdown functionality with full accessibility
        document.addEventListener('DOMContentLoaded', function() {
            const dropdown = document.querySelector('.dropdown');
            const toggle = document.getElementById('markets-toggle');
            
            if (dropdown && toggle) {
                // Debug: Check if dropdown content exists
                const dropdownContent = document.querySelector('.dropdown-content');
                console.log('Dropdown element:', dropdown);
                console.log('Dropdown content element:', dropdownContent);
                if (dropdownContent) {
                    console.log('Dropdown content HTML:', dropdownContent.innerHTML);
                    setTimeout(() => {
                        dropdown.classList.add('open');
                        // FORCE DROPDOWN VISIBLE WITH JAVASCRIPT
                        dropdownContent.style.display = 'block';
                        dropdownContent.style.opacity = '1';
                        dropdownContent.style.visibility = 'visible';
                        dropdownContent.style.pointerEvents = 'auto';
                        dropdownContent.style.position = 'fixed';
                        dropdownContent.style.top = '70px';
                        dropdownContent.style.left = '50%';
                        dropdownContent.style.transform = 'translateX(-50%)';
                        dropdownContent.style.zIndex = '999999';
                        dropdownContent.style.background = '#228B22';
                        dropdownContent.style.border = '3px solid red';
                        dropdownContent.style.padding = '20px';
                        dropdownContent.style.borderRadius = '12px';
                        console.log('FORCED DROPDOWN VISIBLE WITH JAVASCRIPT!');
                    }, 1000);
                } else {
                    console.log('ERROR: Dropdown content not found!');
                }
                
                function closeDropdown() {
                    dropdown.classList.remove('open');
                    toggle.setAttribute('aria-expanded', 'false');
                }
                
                // Click toggle
                toggle.addEventListener('click', function(e) {
                    const isOpen = dropdown.classList.contains('open');
                    dropdown.classList.toggle('open');
                    toggle.setAttribute('aria-expanded', !isOpen);
                });
                
                // Enhanced keyboard support
                toggle.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggle.click();
                    }
                });
                
                // Global Escape key handling
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && dropdown.classList.contains('open')) {
                        closeDropdown();
                        toggle.focus(); // Return focus to toggle
                    }
                });
                
                // Close on outside click
                document.addEventListener('click', function(e) {
                    if (!dropdown.contains(e.target)) {
                        closeDropdown();
                    }
                });
                
                // Close when focus leaves dropdown entirely
                dropdown.addEventListener('focusout', function(e) {
                    setTimeout(function() {
                        if (!dropdown.contains(document.activeElement)) {
                            closeDropdown();
                        }
                    }, 10);
                });
            }
        });
    </script>
</body>
</html>